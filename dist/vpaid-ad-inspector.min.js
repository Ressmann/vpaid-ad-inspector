!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(t){var n=e[a][1][t];return r(n?n:t)},d,d.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){(function(t){function e(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=e(i(n.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(t){var r=n.isAbsolute(t),o="/"===a(t,-1);return t=e(i(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var r=i(t.split("/")),o=i(e.split("/")),a=Math.min(r.length,o.length),s=a,l=0;a>l;l++)if(r[l]!==o[l]){s=l;break}for(var u=[],l=s;l<r.length;l++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:2}],2:[function(t,e,n){function i(){p&&d&&(p=!1,d.length?c=d.concat(c):h=-1,c.length&&r())}function r(){if(!p){var t=s(i);p=!0;for(var e=c.length;e;){for(d=c,c=[];++h<e;)d&&d[h].run();h=-1,e=c.length}d=null,p=!1,l(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var s,l,u=e.exports={};!function(){try{s=setTimeout}catch(t){s=function(){throw new Error("setTimeout is not defined")}}try{l=clearTimeout}catch(t){l=function(){throw new Error("clearTimeout is not defined")}}}();var d,c=[],p=!1,h=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||p||s(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){this._destroyed||(a.$removeAll.call(this),o.default.call(this,"AdStopped"))};var r=t("../trigger"),o=i(r),a=t("../toggles")},{"../toggles":6,"../trigger":7}],4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return(n-t)/(e-t)}function o(t,e,n,i,o){return n+(i-n)*r(t,e,o)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!this._destroyed){var t=this._videoSlot,e=o(0,t.duration,0,100,t.currentTime),n=this._lastQuartilePosition;if(!(e<n.position)){n.hook&&n.hook(),s.default.call(this,n.event);var i=this._quartileEvents;this._lastQuartilePosition=i[i.indexOf(n)+1]}}};var a=t("../trigger"),s=i(a)},{"../trigger":7}],5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){this._attributes.skippableState=!0}function a(t){v.default.call(this,"AdError",t)}function s(){var t=this._videoSlot;return t?(l(t,[this._attributes.width,this._attributes.height]),u(t,this._parameters.videos||[])?void 0:a.call(this,"no supported video found")):a.call(this,"no video")}function l(t,e){t.setAttribute("width",e[0]),t.setAttribute("height",e[1]),t.style.width=e[0]+"px",t.style.height=e[1]+"px"}function u(t,e){var n=e.filter(function(e){return t.canPlayType(e.mimetype)});return 0===n.length?!1:(t.setAttribute("src",n[0].url),!0)}Object.defineProperty(n,"__esModule",{value:!0});var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=t("./util/load-css"),h=i(p),f=t("./trigger"),v=i(f),g=t("./toggles"),b=t("./handler/vast-ended"),y=i(b),A=t("./handler/vast-timeupdate"),m=i(A),_=function(){function t(){r(this,t),this._slot=null,this._videoSlot=null,this._subscribers={},this._attributes={companions:"",desiredBitrate:256,duration:30,remainingTime:-1,expanded:!1,icons:!1,linear:!0,skippableState:!1,viewMode:"normal",width:0,height:0,volume:1},this.previousAttributes=d({},this._attributes),this._quartileEvents=[{event:"AdVideoStart",position:0},{event:"AdVideoFirstQuartile",position:25},{event:"AdVideoMidpoint",position:50},{event:"AdSkippableStateChange",position:65,hook:o.bind(this)},{event:"AdVideoThirdQuartile",position:75},{event:"AdVideoComplete",position:100}],this._lastQuartilePosition=this._quartileEvents[0],this._parameters={}}return c(t,[{key:"set",value:function(t,e){this.previousAttributes[t]=this._attributes[t],this._attributes[t]=e}},{key:"handshakeVersion",value:function(t){return"2.0"}},{key:"initAd",value:function(t,e,n,i,r,o){this._attributes.width=t,this._attributes.height=e,this._attributes.viewMode=n,this._attributes.desiredBitrate=i,this._slot=o.slot,this._videoSlot=o.videoSlot,this._style=(0,h.default)("ad.css"),s.call(this),this._videoSlot.addEventListener("timeupdate",m.default.bind(this),!1),this._videoSlot.addEventListener("ended",y.default.bind(this),!1),v.default.call(this,"AdLoaded")}},{key:"startAd",value:function(){this._videoSlot.play(),this._ui={},v.default.call(this,"AdStarted")}},{key:"stopAd",value:function(){this._destroyed||(g.$removeAll.call(this),v.default.call(this,"AdStopped"))}},{key:"skipAd",value:function(){this._destroyed||this._attributes.skippableState&&(g.$removeAll.call(this),v.default.call(this,"AdSkipped"),v.default.call(this,"AdStopped"))}},{key:"resizeAd",value:function(t,e,n){this._attributes.width=t,this._attributes.height=e,this._attributes.viewMode=n,v.default.call(this,"AdSizeChange")}},{key:"pauseAd",value:function(){this._videoSlot.pause(),v.default.call(this,"AdPaused")}},{key:"resumeAd",value:function(){this._videoSlot.play(),v.default.call(this,"AdPlaying")}},{key:"expandAd",value:function(){this.set("expanded",!0),v.default.call(this,"AdExpandedChange")}},{key:"collapseAd",value:function(){this.set("expanded",!1),v.default.call(this,"AdExpandedChange")}},{key:"subscribe",value:function(t,e,n){this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e].push({callback:t,context:n})}},{key:"unsubscribe",value:function(t,e){var n=this._subscribers[e];Array.isArray(n)&&(this._subscribers[e]=n.filter(function(e){return t!==e}))}},{key:"getAdLinear",value:function(){return this._attributes.linear}},{key:"getAdWidth",value:function(){return this._attributes.width}},{key:"getAdHeight",value:function(){return this._attributes.height}},{key:"getAdExpanded",value:function(){return this._attributes.expanded}},{key:"getAdSkippableState",value:function(){return this._attributes.skippableState}},{key:"getAdRemainingTime",value:function(){return this._attributes.remainingTime}},{key:"getAdDuration",value:function(){return this._attributes.duration}},{key:"getAdVolume",value:function(){return this._attributes.volume}},{key:"getAdCompanions",value:function(){return this._attributes.companions}},{key:"getAdIcons",value:function(){return this._attributes.icons}},{key:"setAdVolume",value:function(t){if(this.previousAttributes.volume!==t){if(0>t||t>1)return a("volume is not valid");this.set("volume",t),this._videoSlot.volume=t,v.default.call(this,"AdVolumeChange")}}}]),t}();n.default=_},{"./handler/vast-ended":3,"./handler/vast-timeupdate":4,"./toggles":6,"./trigger":7,"./util/load-css":8}],6:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){a.call(this,t),o.call(this,t),this._attributes.expandAd=t,this._attributes.remainingTime=t?-2:-1,u.default.call(this,"AdExpandedChange"),u.default.call(this,"AdDurationChange")}function o(t){t?this._videoSlot.pause():this._videoSlot.play()}function a(t){function e(){return t?"block":"none"}this._ui.interact.style.display=e(),this._ui.xBtn.style.display=e()}function s(){this._destroyed=!0,this._videoSlot.src="",this._style.parentElement.removeChild(this._style),this._slot.innerHTML="",this._ui=null}Object.defineProperty(n,"__esModule",{value:!0}),n.$toggleExpand=r,n.$togglePlay=o,n.$toggleUI=a,n.$removeAll=s;var l=t("./trigger"),u=i(l)},{"./trigger":7}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){var n=this._subscribers[t]||[];n.forEach(function(t){t.callback.apply(t.context,e)})}},{}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e=document.createElement("link");return e.rel="stylesheet",e.href=t,parent.document.body.appendChild(e),e}},{}],9:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=t("./linear"),o=i(r);window.getVPAIDAd=function(){return new o.default}},{"./linear":10}],10:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=t("vpaid-ad/src/linear"),d=i(u),c=t("vpaid-ad/src/trigger"),p=i(c),h=(t("path"),'<div style="background:#f5f5f5; width:100%; height:100%">\n  <div style="height: 100%; display: inline-block; float:left;">\n    <select id="eventSelect" size="10">\n      <option value="AdStarted" selected>AdStarted</option>\n      <option value="AdStopped">AdStopped</option>\n      <option value="AdLoaded">AdLoaded</option>\n      <option value="AdLinearChange">AdLinearChange</option>\n      <option value="AdSizeChange">AdSizeChange</option>\n      <option value="AdExpandedChange">AdExpandedChange</option>\n      <option value="AdSkippableStateChange">AdSkippableStateChange</option>\n      <option value="AdDurationChange">AdDurationChange</option>\n      <option value="AdRemainingTimeChange">AdRemainingTimeChange</option>\n      <option value="AdVolumeChange">AdVolumeChange</option>\n      <option value="AdImpression">AdImpression</option>\n      <option value="AdVideoStart">AdVideoStart</option>\n      <option value="AdVideoFirstQuartile">AdVideoFirstQuartile</option>\n      <option value="AdVideoMidpoint">AdVideoMidpoint</option>\n      <option value="AdVideoThirdQuartile">AdVideoThirdQuartile</option>\n      <option value="AdVideoComplete">AdVideoComplete</option>\n      <option value="AdUserAcceptInvitation">AdUserAcceptInvitation</option>\n      <option value="AdUserMinimize">AdUserMinimize</option>\n      <option value="AdUserClose">AdUserClose</option>\n      <option value="AdPaused">AdPaused</option>\n      <option value="AdPlaying">AdPlaying</option>\n      <option value="AdClickThru">AdClickThru</option>\n      <option value="AdError">AdError</option>\n      <option value="AdLog">AdLog</option>\n      <option value="AdInteraction">AdInteraction</option>\n    </select>\n  </div>\n  <div>\n    <table>\n      <tr>\n        <td>\n          <b>companions</b>\n          <br>\n          <span id="companions">None</span>\n        </td>\n        <td>\n          <b>desired bitrate</b>\n          <br>\n          <span id="desiredBitrate">-1</span>\n        </td>\n        <td>\n          <b>duration</b><br><span id="duration">-1</span>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <b>expanded</b><br><span id="expanded">false</span>\n        </td>\n        <td><b>height</b><br><span id="height">-1</span></td>\n        <td><b>icons</b><br><span id="icons">None</span></td>\n      </tr>\n      <tr>\n        <td><b>linear</b><br><span id="linear">True</span></td>\n        <td><b>remaining time</b><br><span id="remainingTime">-1</span></td>\n        <td>\n          <b>skippable state</b><br>\n          <span id="skippableState">False</span>\n        </td>\n      </tr>\n      <tr>\n        <td><b>volume</b><br><span id="volume">1.0</span></td>\n        <td><b>view mode</b><br><span id="viewMode">normal</span></td>\n        <td><b>width</b><br><span id="width">5</span></td>\n      </tr>\n    </table>\n    <div>\n      <hr>\n      <div id="AdClickThruOptions" style="display:none;">\n        Click Through URL <input type="text" id="clickThruUrl" value="http://example.com"/><br>\n        ID <input type="text" id="clickThruId" value="1"/><br>\n        Player Handles <input type="text" id="clickThruPlayerHandels" value="false"/><br>\n      </div>\n      <div id="AdErrorOptions" style="display:none;">\n        AdError <input type="text" id="adErrorMsg" value="ad error message"/>\n      </div>\n      <div id="AdLogOptions" style="display:none;">\n        AdLog <input type="text" id="adLogMsg" value="ad log message"/>\n      </div>\n      <div id="AdInteractionOptions" style="display:none;">\n        AdInteraction\n        <input type="text" id="adInteractionId" value="1"/>\n      </div>\n    </div>\n    <h2><input type="button" id="triggerEvent" value="Trigger Event"/></h2>\n  </div>\n  <div style="position:fixed; bottom:30px">\n    Last event from player <input type="text" style="width:200px" id="lastVpaidEvent" value=""/>\n  </div>\n</div>'),f=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"initAd",value:function(t,e,n,i,r,o){this._attributes.width=t,this._attributes.height=e,this._attributes.viewMode=n,this._attributes.desiredBitrate=i,this._slot=o.slot,this._videoSlot=o.videoSlot,this.log("initAd "+t+"x"+e+" "+n+" "+i),this.renderSlot_(),this.addButtonListeners_(),this.fillProperties_(),p.default.call(this,"AdLoaded")}},{key:"resizeAd",value:function(t,n,i){l(Object.getPrototypeOf(e.prototype),"resizeAd",this).call(this,t,n,i),this.log("resizeAd "+t+"x"+n+" "+i),this._attributes.width=t,this._attributes.height=n,this._attributes.viewMode=i,this.fillProperties_(),p.default.call(this,"AdSizeChange")}},{key:"pauseAd",value:function(){l(Object.getPrototypeOf(e.prototype),"pauseAd",this).call(this),this.log("pauseAd")}},{key:"expandAd",value:function(){l(Object.getPrototypeOf(e.prototype),"expandAd",this).call(this),this.log("expandAd")}},{key:"collapseAd",value:function(){l(Object.getPrototypeOf(e.prototype),"collapseAd",this).call(this),this.log("collapseAd")}}]),e}(d.default);n.default=f,f.prototype.renderSlot_=function(){var t=this._slot&&"DIV"===this._slot.tagName;t||(this._slot=document.createElement("div"),document.body||(document.body=document.createElement("body")),document.body.appendChild(this._slot)),this._slot.innerHTML=h},f.prototype.addButtonListeners_=function(){var t=document.getElementById("eventSelect");t.addEventListener("change",this.eventSelected_.bind(this));var e=document.getElementById("triggerEvent");e.addEventListener("click",this.triggerEvent_.bind(this))},f.prototype.triggerEvent_=function(){var t=document.getElementById("eventSelect"),e=t.value;if("AdClickThru"===e){var n=document.getElementById("clickThruUrl").value,i=document.getElementById("clickThruId").value,r=document.getElementById("clickThruPlayerHandels").value;this.log("AdClickThu("+n+","+i+","+r+")"),p.default.call(this,"AdClickThru",[n,i,r])}else if("AdError"===e){var o=document.getElementById("adErrorMsg").value;this.log(e+"("+o+")"),p.default.call(this,"AdError",[o])}else if("AdLog"===e){var a=document.getElementById("adLogMsg").value;this.log(e+"("+a+")"),p.default.call(this,"AdLog",[a])}else if("AdInteraction"===e){var s=document.getElementById("adInteractionId").value;this.log(e+"("+s+")"),p.default.call(this,"AdInteraction",[s])}else this.log(e+"()"),p.default.call(this,e)},f.prototype.log=function(t){var e=document.getElementById("lastVpaidEvent");null!=e&&(e.value=t)},f.prototype.eventSelected_=function(){var t=document.getElementById("AdClickThruOptions"),e=document.getElementById("AdErrorOptions"),n=document.getElementById("AdLogOptions"),i=document.getElementById("AdInteractionOptions");t.style.display="none",e.style.display="none",n.style.display="none",i.style.display="none";var r=document.getElementById("eventSelect"),o=r.value;"AdClickThru"===o?t.style.display="inline":"AdError"===o?e.style.display="inline":"AdLog"===o?n.style.display="inline":"AdInteraction"===o&&(i.style.display="inline")},f.prototype.fillProperties_=function(){for(var t in this._attributes)t&&document.getElementById(t)&&(document.getElementById(t).textContent=this._attributes[t])}},{path:1,"vpaid-ad/src/linear":5,"vpaid-ad/src/trigger":7}]},{},[9]);